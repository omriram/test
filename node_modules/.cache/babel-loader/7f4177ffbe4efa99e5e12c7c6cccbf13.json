{"ast":null,"code":"import _createForOfIteratorHelper from\"C:\\\\Users\\\\user\\\\amitPlatform\\\\itemtoreplace\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"C:\\\\Users\\\\user\\\\amitPlatform\\\\itemtoreplace\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\user\\\\amitPlatform\\\\itemtoreplace\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\user\\\\amitPlatform\\\\itemtoreplace\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\user\\\\amitPlatform\\\\itemtoreplace\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Header from\"./components/header/header.component\";import ItemToReplaceList from\"./components/item-to-replace-list/item-to-replace-list.component\";import Footer from\"./components/footer/footer.component\";import itemsObject from\"./assets/jsonFormat\";import AdditionalItemList from\"./components/additional-item-list/additional-item-list.component\";import{Router,Route,Switch}from\"react-router-dom\";import\"./App.scss\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.onShowAdditionalItemsClick=function(){var additionalItems=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var itemCode=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var currentItemCode=_this.state.currentItemCode;if(itemCode!==currentItemCode&&itemCode!==null){/* save the current item code */_this.setState({currentItemCode:itemCode});}/* if (closeWindow) {\n      const chosenItemsCpy = new Map();\n      for (var itemCode in chosenItems) {\n        chosenItemsCpy[itemCode] = chosenItems[itemCode];\n      }\n\n      delete chosenItemsCpy[itemCode];\n      this.setState({ chosenItems: chosenItemsCpy });\n    } */_this.setState(function(state){return{showAdditionalItems:!state.showAdditionalItems,additionalItems:additionalItems};});};_this.onRemoveChosenItemClick=function(itemCode){var chosenItems=_this.state.chosenItems;var chosenItemsCpy=new Map();var _iterator=_createForOfIteratorHelper(chosenItems.keys()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _itemCode=_step.value;chosenItemsCpy.set(_itemCode,chosenItems.get(_itemCode));}}catch(err){_iterator.e(err);}finally{_iterator.f();}chosenItemsCpy.delete(itemCode);_this.setState({chosenItems:chosenItemsCpy});};_this.onAdditionalItemClick=function(chosenItemCode){var _this$state=_this.state,chosenItems=_this$state.chosenItems,currentItemCode=_this$state.currentItemCode;var chosenItemsCpy=new Map();var _iterator2=_createForOfIteratorHelper(chosenItems.keys()),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var itemCode=_step2.value;chosenItemsCpy.set(itemCode,chosenItems.get(itemCode));}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}chosenItemsCpy.set(currentItemCode,chosenItemCode);_this.setState(function(state){return{chosenItems:chosenItemsCpy,showAdditionalItems:!state.showAdditionalItems};});};_this.state={dataObj:{},showAdditionalItems:false,additionalItems:[],currentItemCode:\"\",chosenItems:new Map()};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.setState({dataObj:itemsObject});}},{key:\"render\",value:function render(){var _this$state2=this.state,dataObj=_this$state2.dataObj,showAdditionalItems=_this$state2.showAdditionalItems,additionalItems=_this$state2.additionalItems,chosenItems=_this$state2.chosenItems;var isDataReceivedFromServer=Object.keys(dataObj).length>0;var returnedComponent,subComponent,submitMsg=\"\";if(isDataReceivedFromServer){if(showAdditionalItems){subComponent=/*#__PURE__*/React.createElement(AdditionalItemList,{additionalItems:additionalItems,onShowAdditionalItemsClick:this.onShowAdditionalItemsClick,onAdditionalItemClick:this.onAdditionalItemClick});}else{subComponent=/*#__PURE__*/React.createElement(ItemToReplaceList,{items:dataObj.Items,chosenItems:chosenItems,onShowAdditionalItemsClick:this.onShowAdditionalItemsClick,onRemoveChosenItemClick:this.onRemoveChosenItemClick});}if(chosenItems.size>0){submitMsg=\"\\u05D0\\u05E9\\u05E8 \\u05D4\\u05D7\\u05DC\\u05E4\\u05EA \".concat(chosenItems.size,\" \\u05E4\\u05E8\\u05D9\\u05D8\\u05D9\\u05DD\");}else{submitMsg=\"\\u05DC\\u05D0 \\u05DE\\u05E2\\u05D5\\u05E0\\u05D9\\u05D9\\u05DF \\u05DC\\u05D4\\u05D7\\u05DC\\u05D9\\u05E3\";}returnedComponent=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,{lastName:dataObj.LastName,firstName:dataObj.FirstName,msg:dataObj.Message}),subComponent,/*#__PURE__*/React.createElement(Footer,{submitMsg:submitMsg}));}else{returnedComponent=/*#__PURE__*/React.createElement(\"span\",null,\"loading..\");}return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},returnedComponent);}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["C:/Users/user/amitPlatform/itemtoreplace/src/App.js"],"names":["React","Component","Header","ItemToReplaceList","Footer","itemsObject","AdditionalItemList","Router","Route","Switch","App","onShowAdditionalItemsClick","additionalItems","itemCode","currentItemCode","state","setState","showAdditionalItems","onRemoveChosenItemClick","chosenItems","chosenItemsCpy","Map","keys","set","get","delete","onAdditionalItemClick","chosenItemCode","dataObj","isDataReceivedFromServer","Object","length","returnedComponent","subComponent","submitMsg","Items","size","LastName","FirstName","Message"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Header from \"./components/header/header.component\";\nimport ItemToReplaceList from \"./components/item-to-replace-list/item-to-replace-list.component\";\nimport Footer from \"./components/footer/footer.component\";\nimport itemsObject from \"./assets/jsonFormat\";\nimport AdditionalItemList from \"./components/additional-item-list/additional-item-list.component\";\nimport { Router, Route, Switch } from \"react-router-dom\";\n\nimport \"./App.scss\";\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      dataObj: {},\n      showAdditionalItems: false,\n      additionalItems: [],\n      currentItemCode: \"\",\n      chosenItems: new Map(),\n    };\n  }\n\n  onShowAdditionalItemsClick = (additionalItems = null, itemCode = null) => {\n    let { currentItemCode } = this.state;\n\n    if (itemCode !== currentItemCode && itemCode !== null) {\n      /* save the current item code */\n      this.setState({ currentItemCode: itemCode });\n    }\n\n    /* if (closeWindow) {\n      const chosenItemsCpy = new Map();\n      for (var itemCode in chosenItems) {\n        chosenItemsCpy[itemCode] = chosenItems[itemCode];\n      }\n\n      delete chosenItemsCpy[itemCode];\n      this.setState({ chosenItems: chosenItemsCpy });\n    } */\n    this.setState((state) => ({\n      showAdditionalItems: !state.showAdditionalItems,\n      additionalItems,\n    }));\n  };\n\n  onRemoveChosenItemClick = (itemCode) => {\n    const { chosenItems } = this.state;\n    let chosenItemsCpy = new Map();\n    for (let itemCode of chosenItems.keys()) {\n      chosenItemsCpy.set(itemCode, chosenItems.get(itemCode));\n    }\n    chosenItemsCpy.delete(itemCode);\n    this.setState({ chosenItems: chosenItemsCpy });\n  };\n\n  onAdditionalItemClick = (chosenItemCode) => {\n    const { chosenItems, currentItemCode } = this.state;\n    let chosenItemsCpy = new Map();\n    for (let itemCode of chosenItems.keys()) {\n      chosenItemsCpy.set(itemCode, chosenItems.get(itemCode));\n    }\n\n    chosenItemsCpy.set(currentItemCode, chosenItemCode);\n    this.setState((state) => ({\n      chosenItems: chosenItemsCpy,\n      showAdditionalItems: !state.showAdditionalItems,\n    }));\n  };\n\n  componentDidMount() {\n    this.setState({ dataObj: itemsObject });\n  }\n\n  render() {\n    const {\n      dataObj,\n      showAdditionalItems,\n      additionalItems,\n      chosenItems,\n    } = this.state;\n    const isDataReceivedFromServer = Object.keys(dataObj).length > 0;\n    let returnedComponent,\n      subComponent,\n      submitMsg = \"\";\n\n    if (isDataReceivedFromServer) {\n      if (showAdditionalItems) {\n        subComponent = (\n          <AdditionalItemList\n            additionalItems={additionalItems}\n            onShowAdditionalItemsClick={this.onShowAdditionalItemsClick}\n            onAdditionalItemClick={this.onAdditionalItemClick}\n          />\n        );\n      } else {\n        subComponent = (\n          <ItemToReplaceList\n            items={dataObj.Items}\n            chosenItems={chosenItems}\n            onShowAdditionalItemsClick={this.onShowAdditionalItemsClick}\n            onRemoveChosenItemClick={this.onRemoveChosenItemClick}\n          />\n        );\n      }\n\n      if (chosenItems.size > 0) {\n        submitMsg = `אשר החלפת ${chosenItems.size} פריטים`;\n      } else {\n        submitMsg = `לא מעוניין להחליף`;\n      }\n\n      returnedComponent = (\n        <React.Fragment>\n          <Header\n            lastName={dataObj.LastName}\n            firstName={dataObj.FirstName}\n            msg={dataObj.Message}\n          />\n          {subComponent}\n          <Footer submitMsg={submitMsg} />\n        </React.Fragment>\n      );\n    } else {\n      returnedComponent = <span>loading..</span>;\n    }\n    return <div className=\"container\">{returnedComponent}</div>;\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}